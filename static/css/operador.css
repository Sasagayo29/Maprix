/* --- VARIÁVEIS E RESETS --- */
:root {
    --kinross-gold: #FFC107;
    --kinross-gold-dark: #d4a000;
    --bg-dark: #121212;
    --bg-card: #1e1e1e;
    --text-light: #ffffff;
    --text-muted: #aaaaaa;
    --danger: #cf352e;
    --success: #28a745;
    --offline: #ff9800;
}

* { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
/* --- ATUALIZAÇÃO NO CSS DO OPERADOR --- */

/* 1. Body e HTML: Use dvh (Dynamic Height) para ignorar barra de endereço */
body, html { 
    margin: 0; 
    padding: 0; 
    height: 100%; 
    height: 100dvh; /* A mágica acontece aqui */
    font-family: 'Roboto', 'Segoe UI', sans-serif; 
    background-color: var(--bg-dark); 
    color: var(--text-light); 
    overflow: hidden; /* Impede scroll da página inteira */
}

/* 2. Container Principal */
.app-container {
    height: 100%;
    height: 100dvh; /* Garante que o app caiba exatamente na área visível */
    display: flex; 
    flex-direction: column;
    background-color: var(--bg-dark);
}

/* 3. Seção do Meio (Botão): Flexibilidade */
.main-action-section { 
    flex-grow: 1; 
    display: flex; 
    flex-direction: column; 
    align-items: center; 
    justify-content: center; 
    position: relative; 
    min-height: 0; /* Importante para flexbox não estourar */
    overflow-y: auto; /* Permite scroll só aqui se a tela for minúscula */
}

/* 4. Rodapé: Proteção contra cortes e iPhones */
.bottom-section { 
    flex-shrink: 0; /* Impede que o rodapé seja esmagado */
    background: var(--bg-card); 
    padding: 20px; 
    border-top-left-radius: 25px; 
    border-top-right-radius: 25px; 
    box-shadow: 0 -5px 15px rgba(0,0,0,0.2);
    
    /* Adiciona espaço extra para a barrinha do iPhone (Home Indicator) */
    padding-bottom: calc(20px + env(safe-area-inset-bottom)); 
}

/* --- TELA DE LOGIN --- */
.login-container {
    height: 100vh; 
    display: flex; 
    flex-direction: column; 
    justify-content: center; 
    padding: 30px;
    background: radial-gradient(circle at top right, #2a2a2a, var(--bg-dark));
}
.brand-area { text-align: center; margin-bottom: 40px; }
.logo-icon { font-size: 50px; color: var(--kinross-gold); filter: drop-shadow(0 0 10px rgba(255, 193, 7, 0.3)); }
.brand-area h1 { margin: 10px 0 5px; font-size: 28px; letter-spacing: 3px; color: var(--kinross-gold); }
.brand-area p { color: var(--text-muted); margin: 0; letter-spacing: 1px; }

.login-card { background: var(--bg-card); padding: 30px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); border: 1px solid #333; }
.input-group { position: relative; margin-bottom: 20px; border-bottom: 2px solid #444; transition: 0.3s; }
.input-group:focus-within { border-bottom-color: var(--kinross-gold); }
.input-icon { position: absolute; left: 10px; top: 50%; transform: translateY(-50%); color: var(--text-muted); }
.login-card input {
    width: 100%; padding: 15px 15px 15px 45px; background: none; border: none;
    color: var(--text-light); font-size: 18px; outline: none;
}
.login-card input::placeholder { color: #666; }

.btn-login {
    width: 100%; padding: 18px; background: var(--kinross-gold); color: var(--bg-dark);
    border: none; border-radius: 12px; font-size: 18px; font-weight: bold; cursor: pointer;
    display: flex; align-items: center; justify-content: center; gap: 10px; transition: 0.2s;
}
.btn-login:active { background: var(--kinross-gold-dark); transform: scale(0.98); }

/* Topo */
.top-section { flex-shrink: 0; background: var(--bg-card); padding: 15px 20px; border-bottom-left-radius: 25px; border-bottom-right-radius: 25px; box-shadow: 0 5px 15px rgba(0,0,0,0.3); }
.app-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
.equip-info small { color: var(--kinross-gold); display: block; font-size: 12px; text-transform: uppercase; letter-spacing: 1px; }
.equip-info strong { font-size: 22px; color: var(--text-light); }
.btn-sair { background: rgba(255,255,255,0.1); border: none; width: 45px; height: 45px; border-radius: 50%; color: var(--danger); font-size: 20px; cursor: pointer; display: flex; align-items: center; justify-content: center; }

.status-bar {
    padding: 10px; border-radius: 8px; font-weight: bold; text-align: center; text-transform: uppercase; letter-spacing: 1px; font-size: 14px; display: flex; align-items: center; justify-content: center; gap: 8px;
}
.status-bar.online { background: rgba(40, 167, 69, 0.2); color: var(--success); border: 1px solid var(--success); }
.status-bar.offline { background: rgba(255, 152, 0, 0.2); color: var(--offline); border: 1px solid var(--offline); }

/* Meio - Botão Principal */
.main-action-section { flex-grow: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; position: relative; }
.feedback-area { position: absolute; top: 20px; width: 100%; text-align: center; }
.feedback-msg { display: inline-block; background: rgba(0,0,0,0.6); padding: 8px 20px; border-radius: 20px; color: var(--kinross-gold); font-size: 14px; font-weight: 500; }

/* O Novo Botão Industrial */
.btn-big-trigger {
    width: 220px; height: 220px; border-radius: 50%; border: none; cursor: pointer;
    background: linear-gradient(145deg, #2a2a2a, #1a1a1a);
    box-shadow: 0 10px 25px rgba(0,0,0,0.5), inset 0 2px 3px rgba(255,255,255,0.1);
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    color: var(--kinross-gold); position: relative; outline: none;
    border: 4px solid rgba(255, 193, 7, 0.1); /* Borda sutil */
    transition: all 0.15s ease-in-out;
}

/* Ícone e Texto do Botão */
.icon-main { font-size: 60px; margin-bottom: 10px; filter: drop-shadow(0 2px 5px rgba(0,0,0,0.5)); transition: 0.2s; }
.label-main { font-size: 18px; font-weight: 900; letter-spacing: 1px; line-height: 1.2; }

/* Efeito ao Pressionar (Ativo) */
.btn-big-trigger:active {
    transform: scale(0.96);
    background: var(--kinross-gold); /* Fica dourado */
    color: var(--bg-dark); /* Texto escuro */
    box-shadow: 0 5px 15px rgba(255, 193, 7, 0.4), inset 0 5px 10px rgba(0,0,0,0.2);
    border-color: var(--kinross-gold-dark);
}
.btn-big-trigger:active .icon-main { transform: scale(0.9); color: var(--bg-dark); }

/* Animação de "Pulsar" (opcional, para chamar atenção) */
.ring-effect {
    position: absolute; top: -10px; left: -10px; right: -10px; bottom: -10px;
    border: 2px solid var(--kinross-gold); border-radius: 50%;
    opacity: 0; animation: pulse 2s infinite; pointer-events: none;
}
@keyframes pulse { 0% { transform: scale(0.95); opacity: 0.5; } 100% { transform: scale(1.3); opacity: 0; } }


/* Rodapé: Obs e Sync */
.bottom-section { flex-shrink: 0; background: var(--bg-card); padding: 20px; border-top-left-radius: 25px; border-top-right-radius: 25px; box-shadow: 0 -5px 15px rgba(0,0,0,0.2); }

.obs-drawer label { display: block; margin-bottom: 8px; color: var(--kinross-gold); font-weight: bold; font-size: 14px; }
.obs-drawer textarea {
    width: 100%; height: 50px; background: rgba(255,255,255,0.05); border: 1px solid #444;
    border-radius: 10px; padding: 12px; color: var(--text-light); font-size: 16px; resize: none; outline: none; transition: 0.3s;
}
.obs-drawer textarea:focus { border-color: var(--kinross-gold); background: rgba(255,255,255,0.1); height: 80px; } /* Expande ao focar */

.sync-bar { display: flex; justify-content: space-between; align-items: center; margin-top: 20px; padding-top: 15px; border-top: 1px solid #333; }
.sync-status { color: var(--text-muted); font-size: 14px; }
.sync-status strong { color: var(--text-light); font-size: 18px; margin-left: 5px; }

.btn-sync {
    background: var(--success); color: white; border: none; padding: 12px 25px; border-radius: 30px; font-weight: bold; font-size: 14px; cursor: pointer; display: flex; align-items: center; gap: 8px; transition: 0.2s;
}
.btn-sync:disabled { background: #444; color: #888; cursor: not-allowed; opacity: 0.7; }
.btn-sync:not(:disabled):active { transform: scale(0.95); background: #218838; }
/* --- MODAL CUSTOMIZADO (Logout) --- */
.modal-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0, 0, 0, 0.85); /* Fundo bem escuro */
    z-index: 5000;
    display: flex; align-items: center; justify-content: center;
    backdrop-filter: blur(5px); /* Efeito de desfoque no fundo */
    animation: fadeIn 0.3s ease;
}

.modal-box {
    background: #1e1e1e;
    width: 85%; max-width: 350px;
    padding: 30px 20px;
    border-radius: 20px;
    text-align: center;
    border: 1px solid #333;
    box-shadow: 0 15px 40px rgba(0,0,0,0.6);
    animation: slideUp 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.modal-icon {
    font-size: 40px; color: var(--danger);
    margin-bottom: 15px;
    background: rgba(207, 53, 46, 0.1);
    width: 80px; height: 80px; border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    margin-left: auto; margin-right: auto;
}

.modal-box h3 { color: var(--text-light); margin: 10px 0; font-size: 22px; }
.modal-box p { color: #888; font-size: 15px; margin-bottom: 25px; line-height: 1.4; }

.modal-actions { display: flex; gap: 10px; justify-content: center; }

.btn-modal-cancel, .btn-modal-confirm {
    flex: 1; padding: 12px; border: none; border-radius: 10px;
    font-weight: bold; font-size: 14px; cursor: pointer; transition: 0.2s;
}

.btn-modal-cancel { background: #333; color: #ccc; }
.btn-modal-cancel:active { background: #444; }

.btn-modal-confirm { background: var(--danger); color: white; box-shadow: 0 4px 10px rgba(207, 53, 46, 0.3); }
.btn-modal-confirm:active { transform: scale(0.95); opacity: 0.9; }

/* Animações */
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes slideUp { from { transform: translateY(50px) scale(0.9); } to { transform: translateY(0) scale(1); } }